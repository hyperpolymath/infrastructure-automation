# SPDX-License-Identifier: PMPL-1.0-or-later
# Ansible Configuration — infrastructure-automation
# Optimised for local Fedora Silverblue management

[defaults]
inventory = inventory/hosts.yml
roles_path = roles
callback_plugins = plugins/callback
stdout_callback = default
result_format = yaml
callbacks_enabled = reflexive_reporter

# Performance
forks = 10
pipelining = True
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible-facts-cache
fact_caching_timeout = 3600

# Usability
retry_files_enabled = False
host_key_checking = False
display_skipped_hosts = False
any_errors_fatal = False

# Security
# vault_password_file = ~/.ansible/vault_password  # Uncomment when using Ansible Vault
no_log = False

# Logging (reflexive — the system records its own actions)
log_path = /tmp/ansible-infrastructure.log

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no

[diff]
always = True
context = 3
